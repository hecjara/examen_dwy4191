{% extends 'core/base.html' %}

{% load static %}

{% block contenido %}
<br>

<div class="container">
    <div class="row">
        <div class="col-12 text-center">
            <h4 class="text-center">Crea tus listas aca:</h4>
            <a class="btn btn-primary" href="{% url 'crear_lista' %}">Crea una lista</a>            
        </div>
    </div>
</div>



<div class="d-flex justify-content-center">
    <!--recorrera los messages que encuentre y los mostrara-->
    {% if messages %}
    {% for m in messages %}
        <div>{{ m }}</div>
    {% endfor %}
    {% endif %}

</div>

<h2>Listas</h2>

<div class="table-responsive">

    <table class="table table-dark table-bordered table-hover table-condensed">

        <thead>

            <tr>
                <th>ID Lista</th>
                <th>Productos Agregados</th>
                <th>Productos Comprados</th>
                <th>Total Presupuestado</th>
                <th>Total Real</th>
                <th>Estado Lista</th>
                <th>Opciones</th>
            </tr>

        </thead>

        <tbody>

            {% for l in listas %}
            <tr>
                <td>{{ l.id }}</td>
                <td>{{ l.total_productos_agregados }}</td>
                <td>{{ l.total_productos_comprados }}</td>
                <td>{{ l.costo_total_presupuestado }}</td>
                <td>{{ l.costo_total_real }}</td>

                <td>
                    <a href="" class="btn btn-outline-danger">{{ l.estadoLista.nombre }}</a>
                </td>

                <td>
                    <a class="btn btn-primary mr-2" href="{% url 'form_producto' l.id %}">Agregar Producto</a>
                    <a class="btn btn-primary mr-2" href="{% url 'listar_productos' l.id %}" >Administrar Productos</a>
                    <a class="btn btn-primary" href="{% url 'eliminar_lista' l.id %}">Eliminar Lista</a>
                 
                </td>
            </tr>


            {% endfor %}

        </tbody>



    </table>



</div>



{% endblock contenido %}